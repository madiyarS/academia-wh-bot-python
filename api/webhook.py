import os
import json
import requests
from datetime import datetime, timedelta
from http.server import BaseHTTPRequestHandler
import re
from typing import Dict, Optional

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
GREEN_INSTANCE = os.environ.get('GREEN_INSTANCE')
GREEN_TOKEN = os.environ.get('GREEN_TOKEN')
TELEGRAM_TOKEN = os.environ.get('TELEGRAM_TOKEN')
ADMIN_TELEGRAM = os.environ.get('ADMIN_TELEGRAM')
UPSTASH_REDIS_REST_URL = os.environ.get('UPSTASH_REDIS_REST_URL')
UPSTASH_REDIS_REST_TOKEN = os.environ.get('UPSTASH_REDIS_REST_TOKEN')

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Upstash Redis
redis_client = None
if UPSTASH_REDIS_REST_URL and UPSTASH_REDIS_REST_TOKEN:
    try:
        from upstash_redis import Redis
        redis_client = Redis(url=UPSTASH_REDIS_REST_URL, token=UPSTASH_REDIS_REST_TOKEN)
        print("‚úÖ Upstash Redis connected")
    except Exception as e:
        print(f"‚ùå Redis connection error: {e}")

SESSION_TIMEOUT_SECONDS = 24 * 60 * 60

# –¢–µ–∫—Å—Ç—ã (—Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π)
t = {
    "start": """üåø –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ¬´–ê–∫–∞–¥–µ–º–∏—é¬ª!

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—Å! –ú—ã —Ä–∞–¥—ã, —á—Ç–æ –≤—ã –æ–±—Ä–∞—Ç–∏–ª–∏—Å—å –∫ –Ω–∞–º ü§ç
¬´–ê–∫–∞–¥–µ–º–∏—è¬ª ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∑–∞–±–æ—Ç—ã, —Ä–∞–∑–≤–∏—Ç–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–µ—Ç–µ–π –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π.

üì± –≠—Ç–æ—Ç —á–∞—Ç —Å–æ–∑–¥–∞–Ω, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –ª–µ–≥–∫–æ –∏ —É–¥–æ–±–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.

üîê –ú—ã –±–µ—Ä–µ–∂–Ω–æ –æ—Ç–Ω–æ—Å–∏–º—Å—è –∫ –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º ‚Äî –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞ –∏ –∑–∞—â–∏—â–µ–Ω–∞.""",
    
    "choose_org": """–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª:

1. üè´ –î–æ—à–∫–æ–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ
2. üéì –ù–∞—á–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
3. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∏–ª–∏ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –Ω–∞–ø—Ä—è–º—É—é:
   - –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø–æ —Ä–∞–±–æ—Ç–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ (–æ–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã)
   - –≤—Ä–∞—á—É-–ø–µ–¥–∏–∞—Ç—Ä—É (–æ –ø–∏—Ç–∞–Ω–∏–∏ –∏ –∑–¥–æ—Ä–æ–≤—å–µ –≤–æ—Å–ø–∏—Ç–∞–Ω–Ω–∏–∫–æ–≤)
   - –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏ (–≤–æ–ø—Ä–æ—Å—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã)

0. ‚óÄÔ∏è –ù–∞–∑–∞–¥""",
    
    "kg": "üè´ –î–æ—à–∫–æ–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ",
    "school": "üéì –ù–∞—á–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",
    "back": "‚óÄÔ∏è –ù–∞–∑–∞–¥",
    "restart": "üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ",
    
    "menu_kg": """üè´ –î–æ—à–∫–æ–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –∏ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–µ

–ú—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º —Ä–∞—Å—Å–∫–∞–∂–µ–º –≤–∞–º –±–æ–ª—å—à–µ –æ –Ω–∞—à–µ–π –¥–æ—à–∫–æ–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ üåº
–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç:

1. üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø–ª–∞—Ç–∞
3. üìù –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ
4. ‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
5. üçΩ –ü–∏—Ç–∞–Ω–∏–µ
6. üé® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è
7. üíõ –ü–æ—á–µ–º—É —Ä–æ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å
8. üìû –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –æ—Ç–∑—ã–≤–æ–º/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º

0. ‚óÄÔ∏è –ù–∞–∑–∞–¥
üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ""",
    
    "menu_school": """üéì –ù–∞—á–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ

–ú—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º —Ä–∞—Å—Å–∫–∞–∂–µ–º –≤–∞–º –±–æ–ª—å—à–µ –æ –Ω–∞—à–µ–π –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª–µ üåº
–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç:

1. üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø–ª–∞—Ç–∞
3. üìù –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ
4. ‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
5. üçΩ –ü–∏—Ç–∞–Ω–∏–µ
6. üé® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è
7. üíõ –ü–æ—á–µ–º—É —Ä–æ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å
8. üìû –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –æ—Ç–∑—ã–≤–æ–º/–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º

0. ‚óÄÔ∏è –ù–∞–∑–∞–¥
üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ""",
    
    "notUnderstood": "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω—è–ª. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –Ω–∏–∂–µ üëá",
    
    "operator": """üìû –î–ª—è —Å–≤—è–∑–∏ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º:
+7 701 573 1794

–ò–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É, –∏ –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º.""",
    
    "info_kg": """üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚Äî –º–µ—Å—Ç–æ, –≥–¥–µ –¥–µ—Ç—è–º —Ö–æ—Ä–æ—à–æ

¬´–ê–∫–∞–¥–µ–º–∏—è¬ª ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—à–∫–æ–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π –¥–µ—Ç–∏ —Ä–∞—Å—Ç—É—Ç, —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –∏ —á—É–≤—Å—Ç–≤—É—é—Ç —Å–µ–±—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ü§ç

üìç –ê–¥—Ä–µ—Å: –≥. –ê—Å—Ç–∞–Ω–∞, —Ä-–æ–Ω –°–∞—Ä—ã–∞—Ä–∫–∞, —É–ª.–®—ã–≥–∞–Ω–∞–∫, 7

üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏:
+7 701 573 17 94 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ —Ä–∞–±–æ—Ç–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏)
+7 708 685 39 59 (WhatsApp —á–∞—Ç-–±–æ—Ç)

üë∂ –í–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã:
‚Ä¢ 2‚Äì3 –≥–æ–¥–∞
‚Ä¢ 3‚Äì4 –≥–æ–¥–∞
‚Ä¢ 4‚Äì5 –ª–µ—Ç
‚Ä¢ 5‚Äì6 –ª–µ—Ç
‚Ä¢ 6+ (–ø—Ä–µ–¥—à–∫–æ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)

üó£ –û–±—É—á–µ–Ω–∏–µ –≤–µ–¥—ë—Ç—Å—è –Ω–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º –∏ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–∞—Ö

üìö –í —Ä–∞–±–æ—Ç–µ –ø–µ–¥–∞–≥–æ–≥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ì–û–°–û –†–ö, —ç–ª–µ–º–µ–Ω—Ç—ã –û—Ä—Ñ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∏, –¢–†–ò–ó (—Ç–µ–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏—è –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–¥–∞—á), –∫–æ–Ω—Ü–µ–ø—Ü–∏—é ¬´–ó–µ–ª—ë–Ω—ã–π –¥–µ—Ç—Å–∫–∏–π —Å–∞–¥¬ª –∏ –¥—Ä.

üë• –í –≥—Ä—É–ø–ø–∞—Ö (3+ - 6+) –¥–æ 25 –¥–µ—Ç–µ–π (–≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—å –∏ –ø–æ–º–æ—â–Ω–∏–∫ –≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—è); –≤ –≥—Ä—É–ø–ø–µ (2+) –¥–æ 20 –¥–µ—Ç–µ–π (–≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—å –∏ 2 –ø–æ–º–æ—â–Ω–∏–∫–∞ –≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—è)

üë©‚Äç‚öïÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤: –ª–æ–≥–æ–ø–µ–¥, –ø—Å–∏—Ö–æ–ª–æ–≥, –≤—Ä–∞—á-–ø–µ–¥–∏–∞—Ç—Ä, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–µ—Å—Ç—Ä–∞

üç≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Å—Ä–µ–¥–∞, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è, –±–∞—Å—Å–µ–π–Ω, –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã

üìπ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ—Ñ–ª–∞–π–Ω)""",
    
    "cost_kg": """üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø–ª–∞—Ç–∞ –≤ –¥–æ—à–∫–æ–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –æ–ø–ª–∞—Ç—ã:

üíµ –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞: 215 000 —Ç–µ–Ω–≥–µ
üí≥ –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å (—Ä–∞–∑–æ–≤–æ): 150 000 —Ç–µ–Ω–≥–µ

–í —Å—Ç–æ–∏–º–æ—Å—Ç—å —É–∂–µ –≤–∫–ª—é—á–µ–Ω–æ:
‚úî –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–∑–≤–∏—Ç–∏—è —Ä–µ–±—ë–Ω–∫–∞
‚úî 5-—Ä–∞–∑–æ–≤–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
‚úî –ë–æ–ª–µ–µ 20 —Ä–∞–∑–≤–∏–≤–∞—é—â–∏—Ö –∑–∞–Ω—è—Ç–∏–π –≤ –Ω–µ–¥–µ–ª—é
‚úî –ó–∞–Ω—è—Ç–∏—è –ø–æ –ø–ª–∞–≤–∞–Ω–∏—é
‚úî –í—Å–µ —É—á–µ–±–Ω—ã–µ –∏ —Ä–∞—Å—Ö–æ–¥–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∑–∞–Ω—è—Ç–∏–π

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–≥—É—Ç –æ–ø–ª–∞—á–∏–≤–∞—Ç—å—Å—è:
‚Ä¢ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã
‚Ä¢ –≤—ã–µ–∑–¥–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
‚Ä¢ —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö
‚Ä¢ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ª–∏—á–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –¥–µ—Ç–µ–π

üéÅ –í—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∫–∏–¥–∫–∞–º–∏:
‚Ä¢ –ù–∞ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –∏–∑ –æ–¥–Ω–æ–π —Å–µ–º—å–∏ ‚Äî —Å–∫–∏–¥–∫–∞ 10 000 —Ç–µ–Ω–≥–µ
‚Ä¢ –û–ø–ª–∞—Ç–∞ –∑–∞ –≥–æ–¥ –≤–ø–µ—Ä—ë–¥ ‚Äî 5% —Å–∫–∏–¥–∫–∞

üí≥ –û–ø–ª–∞—Ç–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º

üìû –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–ø–ª–∞—Ç—ã: +7 701 577-41-88 (–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è)""",
    
    "enroll_kg": """üìù –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ ‚Äî –ª–µ–≥–∫–æ –∏ –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞

–ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º –¥–µ—Ç–µ–π —Å 2 –ª–µ—Ç –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º —Å–µ–º—å—é –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ ü§ç

üìÖ –ù–∞–±–æ—Ä –æ—Ç–∫—Ä—ã—Ç –∫—Ä—É–≥–ª—ã–π –≥–æ–¥ ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —É–¥–æ–±–Ω–æ–µ –¥–ª—è –≤–∞—Å –≤—Ä–µ–º—è

ü§ç –ê–¥–∞–ø—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –º—è–≥–∫–æ –∏ –±–µ—Ä–µ–∂–Ω–æ, –ø–æ–¥ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Å–∏—Ö–æ–ª–æ–≥–∞, –ª–æ–≥–æ–ø–µ–¥–∞ –∏ –≤—Ä–∞—á–∞-–ø–µ–¥–∏–∞—Ç—Ä–∞, —á—Ç–æ–±—ã —Ä–µ–±—ë–Ω–∫—É –±—ã–ª–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ.

üìÑ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
1Ô∏è‚É£ –ó–∞—è–≤–ª–µ–Ω–∏–µ –∏ –∞–Ω–∫–µ—Ç–∞ (–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –æ—Ñ–∏—Å–µ)
2Ô∏è‚É£ –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ (–∫–æ–ø–∏—è)
3Ô∏è‚É£ –ö–æ–ø–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞, —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–∞—è –ª–∏—á–Ω–æ—Å—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è
4Ô∏è‚É£ –§–æ—Ç–æ 3√ó4 ‚Äî 2 —à—Ç.
5Ô∏è‚É£ –ü–∞—Å–ø–æ—Ä—Ç –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–±–µ–Ω–∫–∞
6Ô∏è‚É£ –ö–∞—Ä—Ç–∞ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–≤–∏–≤–æ–∫ (—Ñ.‚Ññ065)
7Ô∏è‚É£ –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ: –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –æ—Å–Ω–æ–≤–µ, –ü—Ä–∞–≤–∏–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–∞—Å–ø–æ—Ä—è–¥–∫–∞ –∏ –ü—Ä–∞–≤–∏–ª –ø—Ä–∏–µ–º–∞ –¥–µ—Ç–µ–π (–æ—Ñ–ª–∞–π–Ω –≤ –æ—Ñ–∏—Å–µ)

üéØ –•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏—é, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≥—Ä—É–ø–ø—É –∏ –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å –≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª—è–º–∏? –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ ¬´–î–∞¬ª ‚Äî –∏ –º—ã –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è –æ –≤—Ä–µ–º–µ–Ω–∏!

0. ‚óÄÔ∏è –ù–∞–∑–∞–¥""",
    
    "regime_kg": """‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è —Å–µ–º—å–∏

üïó –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Äì –ø—è—Ç–Ω–∏—Ü–∞: 08:00‚Äì18:00
üìÖ –í—ã—Ö–æ–¥–Ω—ã–µ: —Å—É–±–±–æ—Ç–∞, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏
‚úÖ –†–µ–±—ë–Ω–æ–∫ –ø–æ—Å–µ—â–∞–µ—Ç –¥–µ—Ç—Å–∫–∏–π —Å–∞–¥ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ

‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∏:
‚Ä¢ –ü–æ –±–æ–ª–µ–∑–Ω–∏ (—Å–æ —Å–ø—Ä–∞–≤–∫–æ–π) ‚Äî –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç 50% –ø–æ –ø–∏—Ç–∞–Ω–∏—é
‚Ä¢ –û—Ç–ø—É—Å–∫ 60 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∑–∞ –æ–¥–∏–Ω –≥–æ–¥ (–∏–∑ –Ω–∏—Ö 30 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π —Å –æ–ø–ª–∞—Ç–æ–π 50%, –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–Ω–∏ - –ø–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞)""",
    
    "food_kg": """üçΩ –ü–∏—Ç–∞–Ω–∏–µ –≤ ¬´–ê–∫–∞–¥–µ–º–∏–∏¬ª ‚Äî —Å –∑–∞–±–æ—Ç–æ–π –æ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –≤–∫—É—Å–µ

–ú—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ ‚Äî –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–µ—Ç—Å—Ç–≤–∞ üåø
–ü–æ—ç—Ç–æ–º—É –≤ ¬´–ê–∫–∞–¥–µ–º–∏–∏¬ª –º—ã —É–¥–µ–ª—è–µ–º –µ–º—É –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ.

ü•£ 5-—Ä–∞–∑–æ–≤–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
–†–∞—Ü–∏–æ–Ω –≤—ã—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–±—ë–Ω–æ–∫ –ø–æ–ª—É—á–∞–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–∏—Ç–∞–º–∏–Ω—ã –∏ —ç–Ω–µ—Ä–≥–∏—é –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.

üë®‚Äçüç≥ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è
–í—Å–µ –±–ª—é–¥–∞ –≥–æ—Ç–æ–≤—è—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –Ω–∞ –º–µ—Å—Ç–µ –∏–∑ —Å–≤–µ–∂–∏—Ö –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤. –ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã.

üßë‚Äç‚öïÔ∏è –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
–ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–æ–º –∏ –≤—Ä–∞—á–æ–º-–ø–µ–¥–∏–∞—Ç—Ä–æ–º —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –Ω–æ—Ä–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

ü•ó –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
–ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∏—Ç–∞–Ω–∏—è –¥–µ—Ç–µ–π –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤—Ä–∞—á–µ–π

üìã –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ
–ù–∞–º–∏ —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ –Ω–æ—Ä–º—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –ø–∏—â–µ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è.

ü§ç –ú—ã –¥–µ–ª–∞–µ–º –≤—Å—ë, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª–∏ –±—ã–ª–∏ —Å–ø–æ–∫–æ–π–Ω—ã, –∞ –¥–µ—Ç–∏ ‚Äî —Å—ã—Ç—ã, –¥–æ–≤–æ–ª—å–Ω—ã –∏ –ø–æ–ª–Ω—ã —Å–∏–ª.""",
    
    "circles_kg": """üé® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è ‚Äî —Ä–∞–∑–≤–∏—Ç–∏–µ —Å –∏–Ω—Ç–µ—Ä–µ—Å–æ–º

–î–ª—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –¥–µ—Ç–µ–π –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —à–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –∑–∞–Ω—è—Ç–∏–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π: üåü

üèä –ü–ª–∞–≤–∞–Ω–∏–µ
üó£ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
üé® –ê—Ä—Ç-—Å—Ç—É–¥–∏—è
üíÉ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ-–±–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã ¬´SDance¬ª
ü•ã –ö–∞—Ä–∞—Ç—ç
ü§∏ –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞
üëÑ –õ–æ–≥–æ–ø–µ–¥
üßÆ –ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
‚ôü –®–∞—Ö–º–∞—Ç—ã
üé≠ –ê–∫—Ç—ë—Ä—Å–∫–æ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ
üé§ –í–æ–∫–∞–ª –∏ —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
üß† –ü—Å–∏—Ö–æ–ª–æ–≥
üíÜ –õ–§–ö –∏ –º–∞—Å—Å–∞–∂

üéâ –ü—Ä–∞–∑–¥–Ω–∏–∫–∏ (–¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –¥–µ—Ç–µ–π) –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É —Ä–æ–¥–∏—Ç–µ–ª—è –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É –ø—Ä–∞–π—Å—É –∫–æ–º–ø–∞–Ω–∏–∏-–ø–∞—Ä—Ç–Ω–µ—Ä–∞""",
    
    "why_kg": """üíõ –ü–æ—á–µ–º—É —Ä–æ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç ¬´–ê–∫–∞–¥–µ–º–∏—é¬ª

–ú—ã –ø–æ–Ω–∏–º–∞–µ–º, –∫–∞–∫ –≤–∞–∂–Ω–æ –¥–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞ –Ω–∞–¥—ë–∂–Ω–æ–º—É –º–µ—Å—Ç—É. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Ä–æ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç –î–û–û ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞ ü§ç

üå± –ó–∞–±–æ—Ç–∞ –æ –∫–∞–∂–¥–æ–º —Ä–µ–±—ë–Ω–∫–µ
–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –º—è–≥–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º—Ñ–æ—Ä—Ç–∞.

üë©‚Äçüè´ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
–û–ø—ã—Ç–Ω—ã–µ –≤–æ—Å–ø–∏—Ç–∞—Ç–µ–ª–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã: –ª–æ–≥–æ–ø–µ–¥, –ø—Å–∏—Ö–æ–ª–æ–≥, –º–µ–¥—Å–µ—Å—Ç—Ä–∞ –∏ –≤—Ä–∞—á-–ø–µ–¥–∏–∞—Ç—Ä. –¢—ë–ø–ª–æ–µ –∏ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ —Å –¥–µ—Ç—å–º–∏ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏.

üìö –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—É—á–µ–Ω–∏—é
–ü—Ä–æ–≥—Ä–∞–º–º—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ì–û–°–û –†–ö –∏ –¥–æ–ø–æ–ª–Ω—è—é—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∏–∫–∞–º–∏ —Ä–∞–∑–≤–∏—Ç–∏—è –º—ã—à–ª–µ–Ω–∏—è, —Ä–µ—á–∏ –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞.

üçΩ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è, 5-—Ä–∞–∑–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –∏ —É—á—ë—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –≤—Ä–∞—á–µ–π.

üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ä–µ–¥–∞
–ó–∞–∫—Ä—ã—Ç–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è, –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ (–æ—Ñ–ª–∞–π–Ω), –∏–≥—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ –∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–µ—Ç–µ–π.

üé® –†–∞–∑–≤–∏—Ç–∏–µ –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–º —Ç–µ–º–ø–µ.

ü§ù –û—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –∏ –¥–æ–≤–µ—Ä–∏–µ
–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, –ø–æ–Ω—è—Ç–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üåà""",
    
    "info_school": """üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚Äî —à–∫–æ–ª–∞, –≥–¥–µ –¥–µ—Ç–∏ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

¬´–ê–∫–∞–¥–µ–º–∏—è¬ª ‚Äî —ç—Ç–æ –Ω–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞ —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, –≥–¥–µ –∫–∞–∂–¥—ã–π —Ä–µ–±—ë–Ω–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –ª—é–±–æ–≤—å –∫ —É—á—ë–±–µ üå±

üìç –ê–¥—Ä–µ—Å: –≥. –ê—Å—Ç–∞–Ω–∞, —Ä-–æ–Ω –°–∞—Ä—ã–∞—Ä–∫–∞, —É–ª.–®—ã–≥–∞–Ω–∞–∫, 7
üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏:
+7 701 573 17 94 (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–æ —Ä–∞–±–æ—Ç–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏)
+7 708 685 39 59 (WhatsApp —á–∞—Ç-–±–æ—Ç)

üë¶ –í–æ–∑—Ä–∞—Å—Ç: 6‚Äì11 –ª–µ—Ç
üßÆ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ, –ª–æ–≥–∏–∫–∞, —Ä–µ—à–µ–Ω–∏–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∑–∞–¥–∞—á
üë• –†–∞–∑–º–µ—Ä –∫–ª–∞—Å—Å–æ–≤: –¥–æ 15 —É—á–µ–Ω–∏–∫–æ–≤ ‚Äî –º–∞–∫—Å–∏–º—É–º –≤–Ω–∏–º–∞–Ω–∏—è –∫–∞–∂–¥–æ–º—É —Ä–µ–±—ë–Ω–∫—É

üìö –ü—Ä–æ–≥—Ä–∞–º–º—ã: –ì–û–°–û –†–ö —Å —É–≥–ª—É–±–ª—ë–Ω–Ω—ã–º –∏–∑—É—á–µ–Ω–∏–µ–º –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, –ª–æ–≥–∏–∫–∏ –∏ —Ä–∞–∑–≤–∏–≤–∞—é—â–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
üó£ –û–±—É—á–µ–Ω–∏–µ –≤–µ–¥–µ—Ç—Å—è –Ω–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º –∏ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–∞—Ö

üë©‚Äçüè´ –û–ø—ã—Ç–Ω—ã–µ –ø–µ–¥–∞–≥–æ–≥–∏ –∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç –¥–µ—Ç–µ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
üë©‚Äç‚öïÔ∏è –í —à–∫–æ–ª–µ –µ—Å—Ç—å –ø—Å–∏—Ö–æ–ª–æ–≥ –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å–µ—Å—Ç—Ä–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—á–µ–Ω–∏–∫–æ–≤

üìπ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ—Ñ–ª–∞–π–Ω)""",
    
    "cost_school": """üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø–ª–∞—Ç–∞ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª–µ

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —É—Å–ª–æ–≤–∏—è–º–∏ –æ–ø–ª–∞—Ç—ã:

üíµ –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –æ–ø–ª–∞—Ç–∞: 260 000 —Ç–≥
üí≥ –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å (—Ä–∞–∑–æ–≤–æ): 170 000 —Ç–≥

–í —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Ö–æ–¥–∏—Ç:
‚úî –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –∏ –¥—Ä—É–≥–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
‚úî 4-—Ä–∞–∑–æ–≤–æ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ
‚úî –†–∞–∑–≤–∏–≤–∞—é—â–∏–µ –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ –∑–∞–Ω—è—Ç–∏—è
‚úî –í—Å–µ —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –ø–æ –∂–µ–ª–∞–Ω–∏—é:
‚Ä¢ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã
‚Ä¢ –≤—ã–µ–∑–¥–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
‚Ä¢ —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö
‚Ä¢ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ª–∏—á–Ω—ã—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –¥–µ—Ç–µ–π

üéÅ –í—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–∫–∏–¥–∫–∞–º–∏:
‚Ä¢ –ù–∞ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –∏–∑ –æ–¥–Ω–æ–π —Å–µ–º—å–∏ ‚Äî —Å–∫–∏–¥–∫–∞ 10 000 —Ç–µ–Ω–≥–µ
‚Ä¢ –û–ø–ª–∞—Ç–∞ –∑–∞ –≥–æ–¥ –≤–ø–µ—Ä—ë–¥ ‚Äî 5% —Å–∫–∏–¥–∫–∞

üí≥ –û–ø–ª–∞—Ç–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º

üìû –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–ø–ª–∞—Ç—ã: +7 701 577-41-88 (–±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è)""",
    
    "enroll_school": """üìù –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ ‚Äî –ª–µ–≥–∫–æ –∏ –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞

–ú—ã –ø—Ä–∏–Ω–∏–º–∞–µ–º –¥–µ—Ç–µ–π —Å 6 –ª–µ—Ç, –≥–æ—Ç–æ–≤–∏–º –∫ —É—Å–ø–µ—à–Ω–æ–π —É—á–µ–±–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏—é –ª–æ–≥–∏–∫–∏ ü§ç

üìÖ –ù–∞–±–æ—Ä –æ—Ç–∫—Ä—ã—Ç –∫—Ä—É–≥–ª—ã–π –≥–æ–¥ ‚Äî –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —É–¥–æ–±–Ω–æ–µ –¥–ª—è –≤–∞—Å –≤—Ä–µ–º—è

üå± –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∞

üìÑ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
1Ô∏è‚É£ –ó–∞—è–≤–ª–µ–Ω–∏–µ –∏ –∞–Ω–∫–µ—Ç–∞ (–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –æ—Ñ–∏—Å–µ)
2Ô∏è‚É£ –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ (–∫–æ–ø–∏—è)
3Ô∏è‚É£ –ö–æ–ø–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞, —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–∞—è –ª–∏—á–Ω–æ—Å—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—è
4Ô∏è‚É£ –§–æ—Ç–æ 3√ó4 ‚Äî 2 —à—Ç.
5Ô∏è‚É£ –ü–∞—Å–ø–æ—Ä—Ç –∑–¥–æ—Ä–æ–≤—å—è —Ä–µ–±–µ–Ω–∫–∞
6Ô∏è‚É£ –ö–∞—Ä—Ç–∞ –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–≤–∏–≤–æ–∫ (—Ñ.‚Ññ065)
7Ô∏è‚É£ –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ: –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ –æ–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª—É–≥ –∏ –ü—Ä–∞–≤–∏–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–∞—Å–ø–æ—Ä—è–¥–∫–∞ (–æ—Ñ–ª–∞–π–Ω –≤ –æ—Ñ–∏—Å–µ)

üéØ –•–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏—é, —á—Ç–æ–±—ã –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å –ø–µ–¥–∞–≥–æ–≥–æ–º? –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ ¬´–î–∞¬ª ‚Äî –∏ –º—ã –¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è –æ –≤—Ä–µ–º–µ–Ω–∏!

0. ‚óÄÔ∏è –ù–∞–∑–∞–¥""",
    
    "regime_school": """‚è∞ –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã ‚Äî —É–¥–æ–±–Ω–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ

üïó –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Äì –ø—è—Ç–Ω–∏—Ü–∞: 08:00‚Äì17:00
üìÖ –í—ã—Ö–æ–¥–Ω—ã–µ: —Å—É–±–±–æ—Ç–∞, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏
‚úÖ –î–µ—Ç–∏ –ø–æ—Å–µ—â–∞—é—Ç —à–∫–æ–ª—É –µ–∂–µ–¥–Ω–µ–≤–Ω–æ

‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∏:
‚Ä¢ –ü–æ –±–æ–ª–µ–∑–Ω–∏ (—Å–æ —Å–ø—Ä–∞–≤–∫–æ–π) ‚Äî –ø–µ—Ä–µ—Ä–∞—Å—á—ë—Ç –ø–æ –ø–∏—Ç–∞–Ω–∏—é""",
    
    "food_school": """üçΩ –ü–∏—Ç–∞–Ω–∏–µ ‚Äî –≤–∫—É—Å–Ω–æ –∏ –ø–æ–ª–µ–∑–Ω–æ

–í –Ω–∞—à–µ–π —à–∫–æ–ª–µ –ø–∏—Ç–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è, —ç–Ω–µ—Ä–≥–∏–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–µ–±—ë–Ω–∫–∞ üåø

ü•ó 4-—Ä–∞–∑–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ: –∑–∞–≤—Ç—Ä–∞–∫, –≤—Ç–æ—Ä–æ–π –∑–∞–≤—Ç—Ä–∞–∫, –æ–±–µ–¥, –ø–æ–ª–¥–Ω–∏–∫
–†–∞—Ü–∏–æ–Ω –≤—ã—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–±—ë–Ω–æ–∫ –ø–æ–ª—É—á–∞–ª –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–∏—Ç–∞–º–∏–Ω—ã –∏ —ç–Ω–µ—Ä–≥–∏—é –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.

üë®‚Äçüç≥ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∫—É—Ö–Ω—è
–í—Å–µ –±–ª—é–¥–∞ –≥–æ—Ç–æ–≤—è—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –Ω–∞ –º–µ—Å—Ç–µ –∏–∑ —Å–≤–µ–∂–∏—Ö –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤. –ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã.

üßë‚Äç‚öïÔ∏è –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
–ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–æ–º –∏ –≤—Ä–∞—á–æ–º-–ø–µ–¥–∏–∞—Ç—Ä–æ–º —Å —É—á—ë—Ç–æ–º –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –Ω–æ—Ä–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

ü•ó –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
–ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∏—Ç–∞–Ω–∏—è –¥–µ—Ç–µ–π –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤—Ä–∞—á–µ–π

üìã –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ
–ù–∞–º–∏ —Å—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞—é—Ç—Å—è —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ –Ω–æ—Ä–º—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –ø–∏—â–µ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è.

ü§ç –ú—ã –¥–µ–ª–∞–µ–º –≤—Å—ë, —á—Ç–æ–±—ã —Ä–æ–¥–∏—Ç–µ–ª–∏ –±—ã–ª–∏ —Å–ø–æ–∫–æ–π–Ω—ã, –∞ –¥–µ—Ç–∏ ‚Äî —Å—ã—Ç—ã, –¥–æ–≤–æ–ª—å–Ω—ã –∏ –ø–æ–ª–Ω—ã —Å–∏–ª.""",
    
    "circles_school": """üé® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è ‚Äî —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ —É–≤–ª–µ—á–µ–Ω–∏—è

–ú—ã —Å–æ–∑–¥–∞—ë–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ üåü

üßÆ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫—Ä—É–∂–∫–∏ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–≥—Ä—ã
üé® –ê—Ä—Ç-—Å—Ç—É–¥–∏—è
üó£ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫
üíÉ –°–ø–æ—Ä—Ç–∏–≤–Ω–æ-–±–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã
ü•ã –ö–∞—Ä–∞—Ç—ç
‚ôü –®–∞—Ö–º–∞—Ç—ã
üé≠ –ê–∫—Ç—ë—Ä—Å–∫–æ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ
üé§ –í–æ–∫–∞–ª –∏ —Ñ–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ
üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞
üíÜ –õ–§–ö –∏ –º–∞—Å—Å–∞–∂

üéâ –ü—Ä–∞–∑–¥–Ω–∏–∫–∏ (–¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –¥–µ—Ç–µ–π) –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É —Ä–æ–¥–∏—Ç–µ–ª—è –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É –ø—Ä–∞–π—Å—É –∫–æ–º–ø–∞–Ω–∏–∏-–ø–∞—Ä—Ç–Ω–µ—Ä–∞""",
    
    "why_school": """üíõ –ü–æ—á–µ–º—É —Ä–æ–¥–∏—Ç–µ–ª–∏ –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—á–∞–ª—å–Ω—É—é —à–∫–æ–ª—É ¬´–ê–∫–∞–¥–µ–º–∏—è¬ª

üå± –ó–∞–±–æ—Ç–∞ –æ –∫–∞–∂–¥–æ–º —Ä–µ–±—ë–Ω–∫–µ ‚Äî –∞–¥–∞–ø—Ç–∞—Ü–∏—è, –∫–æ–º—Ñ–æ—Ä—Ç, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
üë©‚Äçüè´ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –ø–µ–¥–∞–≥–æ–≥–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
üßÆ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –ª–æ–≥–∏–∫–∏ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è
üçΩ –ß–µ—Ç—ã—Ä—ë—Ö—Ä–∞–∑–æ–≤–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞
üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏ —Ç—ë–ø–ª–∞—è —Å—Ä–µ–¥–∞
ü§ù –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –∫ –¥–∏–∞–ª–æ–≥—É
üåà –†–æ–¥–∏—Ç–µ–ª–∏ —É–≤–µ—Ä–µ–Ω—ã: –∏—Ö –¥–µ—Ç–∏ —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –∏ —Ä–∞—Å—Ç—É—Ç —Å—á–∞—Å—Ç–ª–∏–≤—ã–º–∏""",
    
    "feedbackAsk": """üìû –û—Ç–∑—ã–≤ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ‚Äî –º—ã –≤–∞—Å —Å–ª—ã—à–∏–º

–ú—ã —Ü–µ–Ω–∏–º –¥–æ–≤–µ—Ä–∏–µ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏ –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç—ã –∫ –¥–∏–∞–ª–æ–≥—É üí¨

–í–∞—à–∏ –æ—Ç–∑—ã–≤—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –∑–∞–º–µ—á–∞–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –º—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –µ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å""",
    
    "feedbackDone": "‚úÖ –°–ø–∞—Å–∏–±–æ! –í–∞—à –æ—Ç–∑—ã–≤ –ø—Ä–∏–Ω—è—Ç. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.",
    "enrollRequest": "üìù –ù–∞–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏–º—è —Ä–µ–±—ë–Ω–∫–∞ –∏ –≤–∞—à –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω:",
    "thanks": "‚úÖ –°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞.\n\nüìã –ù–æ–º–µ—Ä –∑–∞—è–≤–∫–∏: ",
    "phoneWarning": "‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
    "afterHours": "\n\n‚è∞ –°–µ–π—á–∞—Å –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã (8:00-18:00)."
}


def get_user_state(sender: str) -> Dict:
    if redis_client:
        try:
            data = redis_client.get(f"user:{sender}")
            if data:
                state = json.loads(data)
                last_activity = datetime.fromisoformat(state['lastActivity'])
                if datetime.now() - last_activity > timedelta(seconds=SESSION_TIMEOUT_SECONDS):
                    return create_default_state()
                return state
        except Exception as e:
            print(f"Redis GET error: {e}")
    return create_default_state()


def set_user_state(sender: str, state: Dict):
    if redis_client:
        try:
            state['lastActivity'] = datetime.now().isoformat()
            redis_client.setex(f"user:{sender}", SESSION_TIMEOUT_SECONDS, json.dumps(state))
        except Exception as e:
            print(f"Redis SET error: {e}")


def create_default_state() -> Dict:
    return {
        'step': 'start',
        'org': None,
        'prevStep': None,
        'lastActivity': datetime.now().isoformat(),
        'isFirstVisit': True
    }


def send_message(chat_id: str, text: str) -> Optional[Dict]:
    final_chat_id = chat_id if '@' in chat_id else f"{chat_id}@c.us"
    url = f"https://api.green-api.com/waInstance{GREEN_INSTANCE}/sendMessage/{GREEN_TOKEN}"
    
    max_retries = 3
    for attempt in range(max_retries):
        try:
            response = requests.post(url, json={"chatId": final_chat_id, "message": text}, timeout=8)
            if response.status_code == 200:
                result = response.json()
                print(f"‚úÖ Message sent: {result}")
                return result
            else:
                print(f"‚ö†Ô∏è Failed: {response.status_code}")
        except Exception as e:
            print(f"‚ùå Error: {e}")
        if attempt < max_retries - 1:
            import time
            time.sleep(0.5)
    return None


def send_telegram(text: str):
    if not TELEGRAM_TOKEN or not ADMIN_TELEGRAM:
        print('‚ö†Ô∏è Telegram disabled')
        return
    try:
        response = requests.post(
            f"https://api.telegram.org/bot{TELEGRAM_TOKEN}/sendMessage",
            json={"chat_id": ADMIN_TELEGRAM, "text": text, "parse_mode": "HTML"},
            timeout=5
        )
        if response.status_code == 200:
            print("‚úÖ Telegram sent")
    except Exception as e:
        print(f"‚ùå Telegram error: {e}")


def is_working_hours() -> bool:
    hour = datetime.now().hour
    return 8 <= hour < 18


def generate_request_id() -> str:
    return f"REQ{int(datetime.now().timestamp() * 1000)}"


def validate_phone(text: str) -> bool:
    return bool(re.search(r'\+?\d{10,}', text))


class handler(BaseHTTPRequestHandler):
    def do_POST(self):
        try:
            content_length = int(self.headers.get('Content-Length', 0))
            if content_length == 0:
                self.send_error(400, "Empty request")
                return
                
            post_data = self.rfile.read(content_length)
            body = json.loads(post_data.decode('utf-8'))
            
            print(f'üì• Webhook: {body.get("typeWebhook")}')
            
            if body.get('typeWebhook') != 'incomingMessageReceived':
                self.send_json_response({"ok": True})
                return
            
            sender_data = body.get('senderData', {})
            message_data = body.get('messageData', {})
            sender = sender_data.get('chatId')
            text = message_data.get('textMessageData', {}).get('textMessage', '').strip()
            
            if not sender or not text:
                self.send_json_response({"ok": True})
                return
            
            print(f'üë§ {sender}: {text[:50]}')
            
            self.process_message(sender, text, sender_data)
            self.send_json_response({"ok": True})
            
        except Exception as e:
            print(f'‚ùå Error: {e}')
            self.send_error(500, str(e))
    
    def process_message(self, sender: str, text: str, sender_data: Dict):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è"""
        lower = text.lower()
        state = get_user_state(sender)
        msg = ""
        
        # /start –∏–ª–∏ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
        if text == "/start" or "–Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ" in lower or "üîÑ" in text:
            state = create_default_state()
            state['step'] = 'choose_org'
            state['isFirstVisit'] = False
            msg = f"{t['start']}\n\n{t['choose_org']}"
            send_message(sender, msg)
            set_user_state(sender, state)
            return
        
        # –û–ø–µ—Ä–∞—Ç–æ—Ä
        if "–æ–ø–µ—Ä–∞—Ç–æ—Ä" in lower or "—á–µ–ª–æ–≤–µ–∫" in lower or "–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é" in lower:
            msg = t['operator']
            if state.get('org'):
                menu_key = 'menu_kg' if state['org'] == 'kg' else 'menu_school'
                msg += f"\n\n{t[menu_key]}"
            send_message(sender, msg)
            set_user_state(sender, state)
            return
        
        # –ù–∞–∑–∞–¥
        if lower in ["–Ω–∞–∑–∞–¥", "‚óÄÔ∏è –Ω–∞–∑–∞–¥"] or text == "0":
            if state['step'] in ['feedback', 'waiting_contact', 'enroll']:
                state['step'] = 'menu'
                menu_key = 'menu_kg' if state['org'] == 'kg' else 'menu_school'
                msg = t[menu_key]
            elif state['step'] == 'menu':
                state['step'] = 'choose_org'
                state['org'] = None
                msg = t['choose_org']
            elif state['step'] == 'choose_org':
                state['step'] = 'start'
                msg = t['start']
            send_message(sender, msg)
            set_user_state(sender, state)
            return
        
        # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
        if state['step'] == 'start':
            name = sender_data.get('senderName', '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å')
            msg = f"üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {name}!\n\n{t['start']}\n\n{t['choose_org']}"
            state['step'] = 'choose_org'
            state['isFirstVisit'] = False
        
        # –í—ã–±–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
        elif state['step'] == 'choose_org':
            if '—Å–∞–¥' in lower or '–¥–æ—à–∫–æ–ª—å–Ω' in lower or text == '1':
                state['org'] = 'kg'
                msg = t['menu_kg']
                state['step'] = 'menu'
            elif '—à–∫–æ–ª' in lower or '–Ω–∞—á–∞–ª—å–Ω' in lower or text == '2':
                state['org'] = 'school'
                msg = t['menu_school']
                state['step'] = 'menu'
            elif text == '3' or '–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏' in lower:
                msg = t['operator']
            else:
                msg = f"{t['notUnderstood']}\n\n{t['choose_org']}"
        
        # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
        elif state['step'] == 'menu':
            is_kg = state['org'] == 'kg'
            menu_key = 'menu_kg' if is_kg else 'menu_school'
            
            if text == '1' or 'üìã' in text or '–æ–±—â–∞—è' in lower or '–∏–Ω—Ñ–æ—Ä–º–∞—Ü' in lower:
                info_key = 'info_kg' if is_kg else 'info_school'
                msg = f"{t[info_key]}\n\n{t[menu_key]}"
            elif text == '2' or 'üí∞' in text or '—Å—Ç–æ–∏–º–æ—Å—Ç—å' in lower or '–æ–ø–ª–∞—Ç' in lower:
                cost_key = 'cost_kg' if is_kg else 'cost_school'
                msg = f"{t[cost_key]}\n\n{t[menu_key]}"
            elif text == '3' or 'üìù' in text or '–ø–æ—Å—Ç—É–ø–ª–µ–Ω' in lower:
                enroll_key = 'enroll_kg' if is_kg else 'enroll_school'
                msg = t[enroll_key]
                state['step'] = 'enroll'
            elif text == '4' or '‚è∞' in text or '—Ä–µ–∂–∏–º' in lower:
                regime_key = 'regime_kg' if is_kg else 'regime_school'
                msg = f"{t[regime_key]}\n\n{t[menu_key]}"
            elif text == '5' or 'üçΩ' in text or '–ø–∏—Ç–∞–Ω' in lower:
                food_key = 'food_kg' if is_kg else 'food_school'
                msg = f"{t[food_key]}\n\n{t[menu_key]}"
            elif text == '6' or 'üé®' in text or '–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω' in lower or '–∑–∞–Ω—è—Ç' in lower:
                circles_key = 'circles_kg' if is_kg else 'circles_school'
                msg = f"{t[circles_key]}\n\n{t[menu_key]}"
            elif text == '7' or 'üíõ' in text or '–ø–æ—á–µ–º—É' in lower or '–≤—ã–±–∏—Ä–∞—é—Ç' in lower:
                why_key = 'why_kg' if is_kg else 'why_school'
                msg = f"{t[why_key]}\n\n{t[menu_key]}"
            elif text == '8' or 'üìû' in text or '–æ—Ç–∑—ã–≤' in lower or '–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ' in lower:
                msg = f"{t['feedbackAsk']}\n\n0. {t['back']}"
                state['step'] = 'feedback'
            else:
                msg = f"{t['notUnderstood']}\n\n{t[menu_key]}"
        
        # –û—Ç–∑—ã–≤/–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
        elif state['step'] == 'feedback':
            org_name = '–î–µ—Ç—Å–∫–∏–π —Å–∞–¥' if state['org'] == 'kg' else '–®–∫–æ–ª–∞'
            now = datetime.now()
            
            telegram_msg = f"""üö® <b>–û–¢–ó–´–í/–ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï</b>
üìä {now.strftime('%d.%m.%Y %H:%M')}
üë§ {sender}
üè´ {org_name}

<b>–¢–µ–∫—Å—Ç:</b>
{text}"""
            send_telegram(telegram_msg)
            
            state['step'] = 'menu'
            menu_key = 'menu_kg' if state['org'] == 'kg' else 'menu_school'
            msg = f"{t['feedbackDone']}\n\n{t[menu_key]}"
        
        # –ó–∞–ø–∏—Å—å
        elif state['step'] == 'enroll':
            if '–¥–∞' in lower:
                msg = f"{t['enrollRequest']}\n\n0. {t['back']}"
                state['step'] = 'waiting_contact'
            else:
                state['step'] = 'menu'
                menu_key = 'menu_kg' if state['org'] == 'kg' else 'menu_school'
                msg = f"–•–æ—Ä–æ—à–æ üòä\n\n{t[menu_key]}"
        
        # –ö–æ–Ω—Ç–∞–∫—Ç—ã
        elif state['step'] == 'waiting_contact':
            if not validate_phone(text):
                msg = f"{t['phoneWarning']}\n\n0. {t['back']}"
            else:
                request_id = generate_request_id()
                org_name = '–î–µ—Ç—Å–∫–∏–π —Å–∞–¥' if state['org'] == 'kg' else '–®–∫–æ–ª–∞'
                
                telegram_msg = f"""üìù <b>–ó–ê–Ø–í–ö–ê</b>
üìä {datetime.now().strftime('%d.%m.%Y %H:%M')}
üë§ {sender}
üè´ {org_name}
üÜî {request_id}

<b>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</b>
{text}"""
                send_telegram(telegram_msg)
                
                state['step'] = 'menu'
                msg = t['thanks'] + request_id
                if not is_working_hours():
                    msg += t['afterHours']
                menu_key = 'menu_kg' if state['org'] == 'kg' else 'menu_school'
                msg += f"\n\n{t[menu_key]}"
        
        else:
            menu_key = 'menu_kg' if state.get('org') == 'kg' else 'menu_school' if state.get('org') else 'choose_org'
            msg = f"{t['notUnderstood']}\n\n{t[menu_key] if state.get('org') else t['choose_org']}"
        
        set_user_state(sender, state)
        if msg:
            send_message(sender, msg)
    
    def send_json_response(self, data: Dict):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ JSON –æ—Ç–≤–µ—Ç–∞"""
        self.send_response(200)
        self.send_header('Content-type', 'application/json')
        self.end_headers()
        self.wfile.write(json.dumps(data).encode())
    
    def do_GET(self):
        """Health check"""
        self.send_response(200)
        self.send_header('Content-type', 'application/json')
        self.end_headers()
        health = {
            "status": "ok",
            "redis": redis_client is not None,
            "timestamp": datetime.now().isoformat()
        }
        self.wfile.write(json.dumps(health).encode())